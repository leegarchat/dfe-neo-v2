
set -e
#----------------
    # Рабочее инструкции 
    # Языковая настройка доступны:
    # Английский `en`
    # Русский `ru` 
    # Индонезийский `id`
    # Китайский`zh`
    # Хинди `hi`
    
LANGUAGE=ru

#----------------
    # Опция `FORСE_START` отвечает за принудительный запуск без выбора из меню с использованием кнопок громкости. Скрипт выдаст ошибку, если конфигурация не настроена правильно. 
    # В любом из аргументов не должно быть значений `ask`. 
    # Доступны значения `false` или `true`.

FORCE_START=false

#----------------
    # Настройте опцию если получаете ошибку 36.1 fstab не найден. Это может произойти если переменная пропа ro.hardware отличается в TWRP и запущено системе
    # Вы можете это проверить в терминале TWRP прописав команду `getprop ro.hardware` и в запущенной системе через любой терминал, если пропы отличаются нужно вписать значение которое отображается в запущенной системе
    # В ином случае оставите значение пустым

FSTAB_EXTENSION=auto

#----------------
    # Опция отключает проверку целостности системы
    # Доступны опции false, true, ask

DISABLE_VERITY_VBMETA_PATCH=ask

#----------------
    # Опция позволяет скрыть отсутствие шифрования /data, работает только если selinux не настроен в enforcing режиме, также работает, если установлен Magisk или KernelSU
    # Доступны опции false, true, ask

HIDE_NOT_ENCRYPTED=ask

#----------------
    # *** Опция будет работать только если установлен Magisk/KernelSu или если у вас slinux=premisive
    # Кастомные пропы, будут заданы на том этапе на котором вы прописали
    # Пример использования: 
    # `CUSTOM_SETPROP="--init my.prop=value my.prop2=value my.prop3=value --early-fs my.prop=value my.prop2=value my.prop3=value"` и так далее
    # Доступтные этапы init: `--init`, `--early-fs`, `--post-fs-data`, `--boot_completed`
    # В ином случае оставьте пустым

CUSTOM_SETPROP=""

#----------------
    # Опция Добавить Собственный Список Запретов:
    # Эта опция записывает пакеты приложений в `denylist` при запуске. Работает только если установлен `Magisk`.
    # Вы можете настроить файл конфигурации вручную в `.zip/META-INF/tools/denylist.txt`.
    # Доступные варианты:  
    # `false` - отключить, 
    # `ask` - запросить во время установки,
    # `first_time_boot` - скрипт будет выполнен только один раз при первой загрузке, запись о первом использовании хранится в памяти Magisk,
    # `always_on_boot` - скрипт будет выполняться при каждой загрузке системы.

INJECT_CUSTOM_DENYLIST_IN_BOOT=ask

#----------------
    # Опция Включить Режим `Zygisk`:
    # Эта опция принудительно включает режим `zygisk` при запуске устройства, даже если `Magisk` установлен впервые.
    # Доступные варианты: 
    # `false` - отключить, `ask` - запросить во время установки,
    # `first_time_boot` - скрипт будет выполнен только один раз при первой загрузке, запись о первом использовании хранится в памяти Magisk,
    # `always_on_boot` - скрипт будет выполняться при каждой загрузке системы.

ZYGISK_TURN_ON_IN_BOOT=ask

#----------------
    # Включает встроенное исправление безопасности, встроенное в dfe-neo, которое запускается на этапе инициализации при загрузке, работает только если selinux не настроен в enforcing режиме, также работает, если установлен Magisk или KernelSU
    # Доступны опции false, true, ask

SAFETY_NET_FIX_PATCH=ask


#----------------
    # Установите значение `true`, чтобы удалить блокировку PIN, `false` - в противном случае
    # Установите значение `ask`, чтобы запросить пользователя во время установки

REMOVE_LOCKSCREEN_INFO=ask

#----------------
    # Установите значение `true`, чтобы стереть данные во время установки, `false` - в противном случае
    # Установите значение `ask`, чтобы запросить пользователя во время установки

WIPE_DATA_AFTER_INSTALL=false

#----------------
    # Эта опция указывает, нужна ли помимо подстановки fstab в --late также подстановка в --early init при монтировании разделов из fstab. --early mount включает все разделы, кроме тех, у которых установлены флаги fisrt_stage_mount и latemount.
    # По умолчанию установлено false.
    # Если установлено в `ask`, скрипт запросит пользователя выбрать опцию при установке.

MOUNT_FSTAB_EARLY_TOO=ask

#----------------
    # Блок настройки для удаления или замены паттернов в fstab. Оставьте по умолчанию, если не знаете для чего вам это нужно.
    #   `-m` указывает строку точки монтирования, в которой нужно удалить паттерны. Например, `-m /data`. После этого флага нужно указать `-r и/или -p`.
    #   `-r` указывает, какие паттерны нужно удалить. Паттерны будут удалены до запятой или пробела. Например:
    #        /.../userdata	/data	f2fs	noatime,....,inlinecrypt	wait,....,fileencryption=aes-256-xts:aes-256-cts:v2,....,fscompress
    #        с `-m /data -r fileencryption= inlinecrypt` будет удалено fileencryption=aes-256-xts:aes-256-cts:v2. Получится строка:
    #        /.../userdata	/data	f2fs	noatime,....	wait,....,....,fscompress
    #   `-p` указывает, какие паттерны нужно заменить. Например, `-m /data -p inlinecrypt--to--ecrypt`. Получится следующее:
    #        /.../userdata	/data	f2fs	noatime,....,ecrypt	wait,....,fileencryption=aes-256-xts:aes-256-cts:v2,....,fscompress
    #        Можно указать несколько параметров `-p inlinecrypt--to--ecrypt fileencryption--to--notencryption`
    #   `-v` При указании этого флага, все строки в fstab, начинающиеся с `overlay`, будут закомментированы, тем самым отключив системный overlay от производителя. Для ощущения эффекта установите true для опции modify_early_mount.
    #   Пример заполнения:
    #        "-m /data -p fileencryption--to--notencrypteble ice--to--not-ice -r forceencrypt= -m /system -p ro--to--rw -m /metadata -r keydirectory="
    #        Значение по умолчанию: "-m /data -r fileencryption= forcefdeorfbe= encryptable= forceencrypt= metadata_encryption= keydirectory= inlinecrypt quota wrappedkey"

FSTAB_PATCH_PATERNS="-m /data -r fileencryption= forcefdeorfbe= encryptable= forceencrypt= metadata_encryption= keydirectory= inlinecrypt quota wrappedkey"

#----------------
    # Секция конфигурации: Опции внедрения
    #  `WHERE_TO_INJECT`: Эта опция определяет, куда будет внедрен модуль. Выберите один из вариантов:
    #      `super`: Модуль будет прошит в текущий слот рядом с системой, вендором и т. д.
    #      `vendor_boot`: Модуль будет прошит в неактивный слот vendor_boot (недоступно для устройств только с A-разделением).
    #      `boot`: Модуль будет прошит в неактивный слот boot (недоступно для устройств только с A-разделением).

WHERE_TO_INJECT=auto

#----------------
    #  `magisk`: Укажите версию Magisk для установки или оставьте поле пустым.
    #      Доступные версии: Magisk-v27.0, Magisk-v26.4-kitsune-2, Magisk-v26.4, MagiskDelta-v26.4.
    #      Пример: magisk Magisk-v27.0
    #      Чтобы установить Magisk из того же каталога, что и neo.zip, добавьте префикс "EXT:", например, "EXT:Magisk-v24.3.zip".
   
INSTALL_MAGISK=